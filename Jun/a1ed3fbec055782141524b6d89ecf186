AUSTIN, Texas  — Police had enough officers and firepower on the scene of the Uvalde school massacre to have stopped the gunman three minutes after he entered the building, and they would have found the door to the classroom where he was holed up unlocked if they had bothered to check it, the head of the Texas state police testified Tuesday, pronouncing the law enforcement response an "abject failure." Officers with rifles instead stood in a hallway for over an hour, waiting in part for more weapons and gear, before they finally stormed the classroom and killed the gunman, putting an end to the May 24 attack that left 19 children and two teachers dead. "I don't care if you have on flip-flops and Bermuda shorts, you go in," Col. Steve McCraw, director of the Texas Department of Public Safety, said in blistering testimony at a state Senate hearing. The classroom door, it turned out, could not be locked from the inside by design, according to McCraw, who also said a teacher reported before the shooting that the lock was broken. Yet there is no indication officers tried to open it during the standoff, McCraw said. He said police instead waited for keys. "I have great reasons to believe it was never secured," McCraw said of the door. "How about trying the door and seeing if it's locked?" Delays in the law enforcement response at Robb Elementary School have become the focus of federal, state and local investigations. McCraw lit into Pete Arredondo, the Uvalde school district police chief who McCraw said was in charge, saying: "The only thing stopping a hallway of dedicated officers from entering Room 111 and 112 was the on-scene commander who decided to place the lives of officers before the lives of children." Arredondo made "terrible decisions," said McCraw, who lamented that the police response "set our profession back a decade." Arredondo has said he didn't consider himself the person in charge and assumed someone else had taken control of the law enforcement response. He has declined repeated requests for comment from The Associated Press, and his lawyer did not immediately respond Tuesday. The police chief testified for about five hours Tuesday at a closed-door hearing of a Texas House committee also investigating the tragedy, according to the panel chair. Senate members hearing the latest details reacted with fury, some decrying Arredondo as incompetent and saying the delay cost lives. Others pressed McCraw on why state troopers on the scene didn't take charge. McCraw said the troopers did not have legal authority to do so. The public safety chief presented a timeline that said three officers with two rifles entered the building less than three minutes behind the gunman, an 18-year-old with an AR-15-style semi-automatic rifle. Several more officers entered minutes after that. Two of the officers who went into the hallway early on were grazed by gunfire. The decision by police to hold back went against much of what law enforcement has learned in the two decades since the Columbine High School shooting in Colorado in which 13 people were killed in 1999, McCraw said. "You don't wait for a SWAT team. You have one officer, that's enough," he said. He also said officers did not need to wait for shields to enter the classroom. The first shield arrived less than 20 minutes after the shooter entered, according to McCraw. Eight minutes after the shooter entered, an officer reported that police had a heavy-duty crowbar that they could use to break down the classroom door, McCraw said. The public safety chief spent nearly five hours offering the clearest picture yet of the massacre, outlining a series of other missed opportunities, communication breakdowns and errors based on an investigation that has included roughly 700 interviews. Among the missteps: — Arredondo did not have a radio with him. — Police and sheriff's radios did not work inside the school. Only the radios of Border Patrol agents on the scene did, and they did not work perfectly. — Some school diagrams that police used to coordinate their response were wrong. Public leaders, including Texas Gov. Greg Abbott, initially praised the police response in Uvalde. Abbott said officers reacted quickly and ran toward the gunfire with "amazing courage" to take out the killer, thereby saving lives. He later said he was misled. State police initially said the gunman, Salvador Ramos, entered the school through an exterior door that had been propped open by a teacher. However, McCraw said the teacher had closed the door, but unbeknownst to her, it could be locked only from the outside. The gunman "walked straight through," McCraw said. The gunman knew the building well, having attended the fourth grade in the same classrooms where he carried out the attack, McCraw said. Ramos never communicated with police that day, the public safety chief said. Sen. Paul Bettencourt said the entire premise of lockdown and shooter training is worthless if school doors can't be locked. "We have a culture where we think we've trained an entire school for lockdown .... but we set up a condition to failure," he said. Bettencourt challenged Arredondo to testify in public and said he should have removed himself from the job immediately. He angrily pointed out that shots were heard while police waited. "There are at least six shots fired during this time," he said. "Why is this person shooting? He's killing somebody. Yet this incident commander finds every reason to do nothing." Uvalde Mayor Don McLaughlin said Tuesday that the city has "specific legal reasons" that it's not answering questions publicly or releasing records. "There is no cover-up," he said in a statement. Later in the day, the Uvalde City Council voted unanimously against giving Arredondo, who is a council member, a leave of absence from appearing at public meetings. Relatives of the shooting victims had pleaded with city leaders to instead fire him. "Please, please, we're begging you, get this man out of our lives," said Berlinda Arreola, the grandmother of Amerie Jo Garza. After the meeting, the mayor pushed back on McCraw's testimony casting blame on Arredondo, saying that the Department of Public Safety has repeatedly put out false information about the shooting and glossed over the role of its own officers. He called the Senate hearing a "clown show" and said he heard nothing from McCraw about state troopers' involvement, even though McLaughlin said their number in the school hallway at points during the slaughter surpassed that of any other law enforcement agency. Questions about the law enforcement response began days after the massacre. McCraw said three days afterward that Arredondo made "the wrong decision" when he chose not to storm the classroom for more than 70 minutes, even as trapped fourth graders inside two classrooms were desperately calling 911 for help and anguished parents outside the school begged officers to go inside. An hour after the shooter first crashed his truck outside the school, Arredondo said, according to McCraw's timeline: "People are going to ask why we're taking so long. We're trying to preserve the rest of the life." But McCraw said Tuesday that the amount of time that elapsed before officers entered the classroom was "intolerable." Police haven't found any red flags in Ramos' school disciplinary files but learned through interviews that he engaged in cruelty to animals. "He walked around with a bag of dead cats," McCraw said. In the days and weeks after the shooting, authorities gave conflicting and incorrect accounts of what happened. But McCraw assured lawmakers: "Everything I've testified today is corroborated." McCraw said if he could make just one recommendation, it would be for more training. He also said every state patrol car in Texas should have shields and door-breaching tools. "I want every trooper to know how to breach and have the tools to do it," he said. ___ Associated Press writers Jamie Stengle and Terry Wallace in Dallas, correspondent John Seewer in Toledo, Ohio, and photographer Eric Gay in Austin contributed to this report. ___ Find more AP coverage of the Uvalde school shooting: https://apnews.com/hub/uvalde-school-shooting
Despite a global deal struck by leadership, Minnesota legislators are struggling to fill in the details of how to spend billions of dollars on classrooms, public safety, health care and tax cuts with time running out in the 2022 legislative session. The priorities for both parties to spend a projected budget surplus of nearly $9.3 billion are on the line without agreements before a Sunday night deadline to pass bills for the year. "If there's disagreement, it's not going to get done," said Senate Majority Leader Jeremy Miller, R-Winona. "There's not enough time." DFL Gov. Tim Walz has said he doesn't want to call lawmakers back into a special session, meaning whatever doesn't get done by the deadline could have to wait until a new Legislature returns to the Capitol next year. A framework agreed on by Walz and top leaders in the Legislature on Monday laid out a sweeping plan to cut taxes by $4 billion over the next four years while spending an equal amount on state programs and leaving another $4 billion unspent. But legislative negotiators have butted heads all week over the details. A tax bill is expected to include some kind of permanent relief in the form of an income tax rate reduction — a top priority for Republicans in the Senate — and a boosted credit for renters that House Democrats have been pushing. Legislators ratified contracts for about 45,000 state workers on Friday. House and Senate negotiators meanwhile struck accords on drought relief and higher education but have yet to pass those bills. Before adjourning until Saturday, Miller told senators that he expected them "to be here through the weekend." The tax proposal is the closest to being finalized but is likely to be the last proposal to clear the Legislature to assure other spending priorities also are passed, said House Speaker Melissa Hortman, DFL-Brooklyn Park. Tax proposals must first pass the House, giving Democrats leverage over Republicans on their top priority this year. "The agreement was $4 billion in spending for $4 billion in taxes and $4 billion on the bottom line," she said. "The House will not send the tax bill until everything is done." She said disagreements over how to spend $1 billion on classrooms and another $1 billion on health care over the next three years have been harder to resolve. Public safety committee chairs also have struggled to come together on how to curb rising violent crime in the state. Leaders agreed to spend $450 million on public safety over the next three years, but while negotiators have traded several offers, they remain far from agreement. Hortman said time is short, but the Legislature typically pushes its work to the final hours of the session. She's optimistic they'll get all their work done this year. "There's definitely time," she said. "People hang on for a long time to their original version of what this bill should be before they realize that if they don't compromise, they're not going to have a bill." While major deals remained in limbo Friday, legislators did find agreement on some lingering issues. The Senate voted to ratify state worker contracts on Friday, more than a year after the House voted to do the same. Without the Legislature's action, roughly 50,000 state employees would have lost a 2.5% pay raise and other benefits they negotiated last year. House and Senate negotiators also finalized a long-sought deal to provide more than $18 million in relief to those hit hardest by last summer's drought, including farmers, ranchers and $5 million for the Department of Natural Resources to pay for replacement seedlings. And negotiators agreed on priorities to spend tens of millions of dollars on higher education programs over the next three years, including $3 million to continue a program to train certified nursing assistants. Senate Democrats attempted to move a price gouging bill to respond to those looking to capitalize on the nationwide infant formula shortage. After a bipartisan vote to pull the bill from committee, Senate Republicans voted down an effort to bring the bill up for immediate consideration. Minnesota is one of 13 states without a law to prevent price gouging, Attorney General Keith Ellison said. The House passed a similar bill last year. "This should not be exploited, and we can fix it," said Senate Minority Leader Melisa López Franzen, DFL-Edina. "We have a lot of issues we need to resolve … If I had to prioritize one, it would be feeding our kids." Staff writers Katie Galioto and Stephen Montemayor contributed to this report. 